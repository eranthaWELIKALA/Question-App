<ion-header>
    <ion-toolbar>
      <ion-title>Question App - Register</ion-title>
          <fa-icon class="ion-margin-start" *ngIf="user.role=='i'" [icon]="faChalkboardTeacher"></fa-icon>
          <fa-icon class="ion-margin-start" *ngIf="user.role=='s'" [icon]="faGraduationCap"></fa-icon>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <ion-grid class="ion-align-items-center">
        <form #form="ngForm" (ngSubmit)="register(form)">
            <ion-list>
              <ion-item class="ion-margin">
                    <ion-label>Firstname</ion-label>
                    <ion-input type="text" class="form-control" name="firstname" [(ngModel)]="user.firstname" (ionBlur)="generateUsername()"></ion-input>
              </ion-item>              
              <ion-item class="ion-margin">
                      <ion-label>Lastname</ion-label>
                      <ion-input type="text" class="form-control" name="lastname" [(ngModel)]="user.lastname" (ionBlur)="generateUsername()"></ion-input>
              </ion-item>              
              <ion-item class="ion-margin">                   
                      <ion-label>Email</ion-label>
                      <ion-input type="email" email class="form-control" name="email" [(ngModel)]="user.email" [color]="emailValidation()? '': 'danger'"></ion-input>
              </ion-item>                            
              <ion-item class="ion-margin">
                    <ion-label>
                      Role
                    </ion-label>
                    <ion-select placeholder="Select" class="form-control" name="role" [(ngModel)]="user.role">
                      <ion-select-option value="i">Instructor</ion-select-option>
                      <ion-select-option value="s">Student</ion-select-option>
                    </ion-select>
              </ion-item>
              <ion-item class="ion-margin">
                  <ion-label>
                    Subjects
                  </ion-label>
                  <ion-select placeholder="Select" class="form-control" name="subject" [(ngModel)]="subject" multiple=true>
                    <ion-select-option *ngFor="let subject of subjects" [value]="subject.id" >{{subject.data.name}}</ion-select-option>
                  </ion-select>
            </ion-item>
              <ion-item class="ion-margin">                   
                      <ion-label>Username</ion-label>
                      <ion-input type="text" class="form-control" name="username" [(ngModel)]="user.username"></ion-input>
              </ion-item>
              <ion-item class="ion-margin">
                  <ion-label>Password</ion-label>
                  <ion-input type="password" class="form-control" name="password" [(ngModel)]="user.password" [color]="passwordValidation()? 'success' : 'warning'" minlength=8></ion-input>
              </ion-item>
              <ion-item class="ion-margin">
                  <ion-label>Confirm Password</ion-label>
                  <ion-input type="password" class="form-control" name="confirmPassword" [(ngModel)]="confirmPassword" [color]="passwordValidation()? 'success' : 'warning'"></ion-input>
                  <fa-icon *ngIf="passwordValidation()" [icon]="faCheck"></fa-icon>
              </ion-item>
              <ion-button type="submit" class="ion-float-right ion-margin-end" [disabled]="!(formValidation() && passwordValidation())">Register</ion-button>
            </ion-list>
          </form>
    </ion-grid>  
  </ion-content>
  